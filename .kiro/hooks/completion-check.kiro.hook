{
  "enabled": true,
  "name": "Quality Completion Check",
  "description": "Validates code quality before marking a task as complete - the final safety net in the quality workflow. Runs all quality checks (Ruff, MyPy, Pyright, pytest) and reports success or failure.",
  "version": "1",
  "when": {
    "type": "agentStop"
  },
  "then": {
    "type": "runCommand",
    "command": "echo 'ğŸ” Running Quality Checks...' && echo '' && echo 'ğŸ“‹ Ruff Check...' && uv run ruff check src/ && echo '' && echo 'ğŸ”· MyPy Check...' && uv run mypy src/ && echo '' && echo 'ğŸ”¶ Pyright Check...' && uv run pyright src/ && echo '' && echo 'ğŸ§ª Running Tests...' && uv run pytest -v && echo '' && echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && echo 'âœ… All quality checks passed!' && echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' || (echo '' && echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && echo 'âŒ Quality checks failed. Please fix issues before completing.' && echo 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•' && exit 1)"
  }
}